<!DOCTYPE html>
<html lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

	<title>My gay vote</title>

	<meta name="description" content="Voting records of Conservatives, Labour and Liberal Democrats showing support of LGBT issues in the UK." />
	<meta name="keywords" content="LGBT,gay,uk,election,vote,conservatives,labour,liberal democrats,david cameron,gordon brown,nick clegg,age of consent,gay adoption,section 28,equality act,civil partnerships,gay marriage" />
	<meta name="language" content="English" />

	<link type="text/css" rel="stylesheet" href="reset.css" />
	<link type="text/css" rel="stylesheet" href="text.css" />
	<link type="text/css" rel="stylesheet" href="960.css" />
	<link type="text/css" rel="stylesheet" href="main.css" />
	<!--[if lt IE 8]>
		<link type="text/css" rel="stylesheet" href="ie.css" />
	<![endif]-->

</head>

<body>
	<div class="container_12">
		<div class="grid_12">
			<a href="https://twitter.com/share" class="twitter-share-button" data-size="large">Tweet</a>
			<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src="//platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>
			<h1>My gay vote</h1>
			<p class="intro">They want us to vote for them, but do they vote for us in Parliament?</p>
			<p>Below shows the amount of support we have received from each party on important LGBT issues.</p>

			<table>
				<thead>
					<tr>
						<th></th>
						<th class="party">Conservatives</th>
						<th class="party">Labour</th>
						<th class="party">Liberal Democrats</th>
					</tr>
				</thead>
				<tbody class="figures">
                    {{ $conTotal := 0.0 }}
                    {{ $labTotal := 0.0 }}
                    {{ $libTotal := 0.0 }}
                    {{ $totalIssues := len .Site.Data.votes }}

                    {{ range .Site.Data.votes }}
					<tr>
						<td class="issue">
							<h3>{{ .title }} <a href="{{ .link }}" target="_blank">#</a></h3>
							<div class="desc">
								<p>{{ .description }}</p>
							</div>
						</td>
						<td class="vote">
                            {{ $conFor := float .votes.conservatives.for }}
                            {{ $conAgainst := float .votes.conservatives.against }}
                            {{ $conPositive := math.Round (mul (div .votes.conservatives.for (add $conFor $conAgainst)) 100.0) }}

                            {{ $conPercentage := $conPositive }}
                            {{ $conTotal = add $conTotal $conPercentage}}

                            <img src="https://chart.apis.google.com/chart?cht=p&amp;chs=80x80&amp;chd=t:{{ $conPercentage }},{{ sub 100 $conPercentage }}&amp;chco=0087dc,cccccc&amp;chof=png" alt="{{ $conPercentage }}%" title="{{ $conPercentage }}%" />
                            <br />
                            <span>{{ $conPercentage }}%</span>
						</td>
						<td class="vote">
                            {{ $labFor := float .votes.labour.for }}
                            {{ $labAgainst := float .votes.labour.against }}
                            {{ $labPositive := math.Round (mul (div .votes.labour.for (add $labFor $labAgainst)) 100.0) }}

                            {{ $labPercentage := $labPositive }}
                            {{ $labTotal = add $labTotal $labPercentage}}

                            <img src="https://chart.apis.google.com/chart?cht=p&amp;chs=80x80&amp;chd=t:{{ $labPercentage }},{{ sub 100 $labPercentage }}&amp;chco=dc241f,cccccc&amp;chof=png" alt="{{ $labPercentage }}%" title="{{ $labPercentage }}%" />
                            <br />
                            <span>{{ $labPercentage }}%</span>
						</td>
						<td class="vote">
                            {{ $libFor := float .votes.liberaldemocrats.for }}
                            {{ $libAgainst := float .votes.liberaldemocrats.against }}
                            {{ $libPositive := math.Round (mul (div .votes.liberaldemocrats.for (add $libFor $libAgainst)) 100.0) }}

                            {{ $libPercentage := $libPositive }}
                            {{ $libTotal = add $libTotal $libPercentage}}

                            <img src="https://chart.apis.google.com/chart?cht=p&amp;chs=80x80&amp;chd=t:{{ $libPercentage }},{{ sub 100 $libPercentage }}&amp;chco=ffd700,cccccc&amp;chof=png" alt="{{ $libPercentage }}%" title="{{ $libPercentage }}%" />
                            <br />
                            <span>{{ $libPercentage }}%</span>
						</td>
					</tr>
                    {{ end }}
				</tbody>
				<tbody class="averages">
					<tr>
                        <th>Averages</th>

						<td class="vote">{{ math.Round (div $conTotal $totalIssues) }}%</td>
						<td class="vote">{{ math.Round (div $labTotal $totalIssues) }}%</td>
						<td class="vote">{{ math.Round (div $libTotal $totalIssues) }}%</td>
					</tr>
				</tbody>
			</table>


		</div>

		<div class="grid_12 footer">
			<p>Comments? Suggestions? Want updates? <a href="https://twitter.com/mygayvote">@mygayvote</a></p>
			<p>By <a href="https://twitter.com/davidwinter">@davidwinter</a></p>
		</div>

    </div>

    {{ if not .Site.IsServer }}
    <script data-goatcounter="https://mygayvote.goatcounter.com/count"
        async src="//gc.zgo.at/count.js"></script>
    {{ end }}
</body>
</html>
